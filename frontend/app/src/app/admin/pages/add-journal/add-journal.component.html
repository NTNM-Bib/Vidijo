<div class="g_content">
  <section>
    <div class="g_section-header">
      <h1>Add Journals</h1>
      <p>
        Search Journals to add to
        <i>{{ category.title }}</i> or import your journals list
      </p>
    </div>
  </section>

  <section *ngIf="!journalsListFile">
    <div class="g_section-content">
      <div>
        <input
          class="g_dynamic-shadow search-input"
          placeholder="Search journals to add"
          autofocus
          [formControl]="searchFormControl"
        />
      </div>
    </div>
  </section>
  <section *ngIf="noSearchResults"></section>

  <section *ngIf="journalResultsInVidijo.length > 0">
    <div class="g_section-header">
      <h2>Installed</h2>
    </div>
    <div class="g_section-content">
      <app-journals-list
        [journals]="journalResultsInVidijo"
        [showAddButton]="true"
      >
      </app-journals-list>
    </div>
  </section>

  <section *ngIf="journalResultsInDOAJ.length > 0">
    <div class="g_section-header">
      <h2>Not Installed</h2>
    </div>
    <div class="g_section-content">
      <app-journals-list
        [journals]="journalResultsInDOAJ"
        [showInstallButton]="true"
      >
      </app-journals-list>
    </div>
  </section>

  <section>
    <div class="g_section-content">
      <ngx-dropzone
        [multiple]="false"
        (change)="onSelect($event)"
        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
      >
        <ngx-dropzone-label
          >Upload your list of journals (.xlsx)</ngx-dropzone-label
        >
        <ngx-dropzone-preview
          [removable]="true"
          (removed)="onRemove()"
          *ngIf="journalsListFile"
        >
          <ngx-dropzone-label>{{ journalsListFile.name }}</ngx-dropzone-label>
        </ngx-dropzone-preview>
      </ngx-dropzone>
      <!-- Example file-->
      <div>
        <p>
          <a mat-button color="accent" href="static/examples/vidijo.xlsx">
            <mat-icon>get_app</mat-icon>&nbsp;Download
          </a>
          an example file to get started
        </p>
      </div>
      <!-- File info -->
      <div *ngIf="data">
        <p>
          This file contains <span>{{ data.journals.length }}</span> journals
          and <span>{{ data.categories.length }}</span> categories
        </p>
      </div>
    </div>
    <div class="g_section-action-row">
      <button
        mat-button
        class="g_rounded-button"
        [disabled]="!journalsListFile"
        (click)="importJournalsList()"
      >
        Import Journals
      </button>
    </div>
  </section>
</div>
